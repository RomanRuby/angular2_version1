<div class="container" *ngIf="productForm">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit(productForm)">
        <div class="form-group">
            <a href="#" onClick="history.go(-1)"><b>Cluster Role</b> </a>
        </div>
        <div class="ui-g-12 ui-md-6 ui-lg-8">
            <div class="form-group">
                <label for="name">Name</label>
                <input id="name" type="text" class="form-control" formControlName="name">
                <small [hidden]="productForm.controls.name.valid"
                       class="text-danger">
                    Name is required
                </small>
            </div>
            <div *ngIf="isInformationOutput">
                <h3 class="first">Information </h3>
                <div *ngIf="isInformationTable">
                    <p-dataTable [value]="responseRoleDto.metadata">
                        <p-column field="creationTimestamp" header="creationTimestamp"></p-column>
                        <p-column field="name" header="name"></p-column>
                        <p-column field="uid" header="uid"></p-column>
                        <!--<p-column field="generation" header="generation"></p-column>-->
                        <!--<p-column field="deletionTimestamp" header="deletionTimestamp"></p-column>-->
                        <!--<p-column field="deletionGracePeriodSeconds" header="deletionGracePeriodSeconds"></p-column>-->
                        <p-column field="resourceVersion" header="resourceVersion" ></p-column>
                    </p-dataTable>
                    <div><p>Mutable fields</p></div>
                    <p-dataTable [value]="policyRuleDtoWithDeleteFunction" [editable]="true">
                        <p-column field="apiGroups" header="ApiGroups" [editable]="true"></p-column>
                        <p-column field="resourceNames" header="ResourceNames" [editable]="true"></p-column>
                        <p-column field="resources" header="Resources" [editable]="true"></p-column>
                        <p-column field="verbs" header="Verbs" [editable]="true"></p-column>
                        <p-column field="isDelete" header="Delete(write true or false)" [editable]="true"></p-column>
                    </p-dataTable>

                    <input type="button" class="btn btn-default ui-g-12 ui-md-6 ui-lg-8" (click)="addPolicy()" value="add Policy"
                    [disabled]="productForm.invalid || isInformationError || !isInformationOutput"/>
                    <p-dataTable [value]="responseRoleDto.metadata" [editable]="true">
                        <p-column field="generateName" header="generateName" [editable]="true"></p-column>
                    </p-dataTable>
                </div>
                <div *ngIf="isInformationError">
                    <p>{{responseRole}}</p></div>

            </div>
            <input type="button" class="btn btn-default ui-g-12 ui-md-6 ui-lg-8" (click)="save()" value="Update"
                   [disabled]="productForm.invalid || isInformationError || !isInformationOutput"/>
            <input type="submit" class="btn btn-primary ui-g-12 ui-md-6 ui-lg-8"
                   value="Get" [disabled]="productForm.invalid"/>
        </div>
    </form>
</div>